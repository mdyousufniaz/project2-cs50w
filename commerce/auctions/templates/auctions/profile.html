{% extends "auctions/layout.html" %}

{% block title %}{{ user.username }}{% endblock %}

{% block body %}

<div class="container-fluid m-3">
    <h2>User Profile</h2>
    <p>username : <span class="lead">{{ user.username }}</span></p>
    <p>email : <span class="lead">{{ user.email }}</p>

    <hr>

    <h2>My Listings:</h2>
    <form class="float-right" action="{% url 'profile' %}"" method="post">
        {% csrf_token %}
        {{ listing_filter }}
    </form>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var filterSelect = document.querySelector('select[name="filter_option"]');
            filterSelect.addEventListener('change', function () {
                this.form.submit();
            });
        });
    </script>
</div>

{% endblock %}